{"version":3,"sources":["App.js","Maps.js","serviceWorker.js","index.js"],"names":["Maps","MAXSIZE","MINSIZE","ROWS","COLS","BORDER","ATTEMPTS","ROOMS","WALL","EMPTY","linkStraightH","floorMap","r1","r2","inc","col","i","row","linkStraightV","link2Steps","flipCoin","Math","floor","random","h","w","linkRooms","randomEvenOdd","min","max","addRoom","out","undefined","room","status","j","isNotOverlapping","DungeonGenerator","generate","config","cfg","rows","cols","maxRoomSize","minRoomSize","padding","maxAttempts","rooms","r","push","roomsToLink","roomsLinked","newRooom","distance","a","b","d2","sqrt","pop","length","sort","map","cell","cellType","enemy","hp","attack","weapon","positions","Array","hpotions","fill","weapons","console","log","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","posX","round","posY","xp","enemyDir","enemyHp","enemyAttack","weaponLevel","enemyLevel","fightOn","handleTravel","bind","assertThisInitialized","detectEnemy","handleCombat","document","addEventListener","e","preventDefault","keyCode","getElementById","click","setState","nextY","nextX","alert","_this$state","_this$state2","target","id","_this$detectEnemy","currHp","concat","clonedPotions","slice","clonedWeapons","_this$detectEnemy2","_this$detectEnemy3","_this$detectEnemy4","_this$state3","weaponAttack","clonedArr","_this$state4","units","thugPresence","potionPresence","weaponL","react_default","createElement","App_Units","meX","meY","thugP","potionP","style","color","textAlign","className","onClick","React","Component","Units","abs","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.673cbc98.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport DungeonGenerator from \"./Maps\";\n\nconst enemy = [\n  { hp: 50, attack: 15 }, // color: purple, attack: 10\n  { hp: 75, attack: 45 }, // color: brown, attack: 35\n  { hp: 100, attack: 60 }, // color: blue, attack: 50\n  { hp: 150, attack: 80 } // color: black, attack: 80\n];\n\nconst weapon = [\n  [\"Fist\",  15],\n  [\"Hammer\", 45],\n  [\"Sword\", 60],\n  [\"Fire\", 80]\n]; \n\nvar floorMap = DungeonGenerator.generate({\n    maxRoomSize: 7,\n    minRoomSize: 7,\n    padding: 2,\n    rooms: 25,\n    rows: 50,\n    cols: 30\n  });\n\n// TODO multi level enemy, program map algorithm\n\nlet positions = new Array(50)\nlet hpotions = new Array(50)\n\nfor(let i = 0; i < positions.length; i++){\n   positions[i] = new Array(30).fill(0);\n   hpotions[i] = new Array(30).fill(0)\n  for(let j = 0; j < positions[i].length; j++){\n    if(Math.random() < 0.01 \n      && floorMap[i][j].cellType === \"empty\"){\n      positions[i][j] = 1;\n    } else if(Math.random() < 0.005 \n      && floorMap[i][j].cellType === \"empty\" \n      && positions[i][j] === 0){\n      hpotions[i][j] = 1;\n    } \n  }\n}\n\nlet weapons = new Array(50)\n\nfor(let i = 0; i < weapons.length; i++){\n  weapons[i] = new Array(30).fill(0)\n  for(let j = 0; j < weapons[i].length; j++){\n    if(Math.random() < 0.01\n      && positions[i][j] === 0\n      && hpotions[i][j] === 0){\n      if(Math.random() < 0.4){\n        weapons[i][j] = 1 \n      } else if(Math.random() < 0.3){\n        weapons[i][j] = 2 \n      } else if(Math.random() < 0.2){\n        weapons[i][j] = 3 \n      }    \n    }\n  }\n}\n\n//console.log(positions);\n//console.log(weapons);\nconsole.log(floorMap);\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posX: Math.round(Math.random()*30),\n      posY: Math.round(Math.random()*50),\n      hp: 100,\n      xp: 25,\n      positions,\n      hpotions,\n      weapons,\n      enemyDir: null,\n      enemyHp: null,\n      enemyAttack: null,\n      weaponLevel: 0,\n      enemyLevel: null,\n      fightOn: false\n    };\n    this.handleTravel = this.handleTravel.bind(this);\n    this.detectEnemy = this.detectEnemy.bind(this);\n    this.handleCombat = this.handleCombat.bind(this);\n  }\n\n  componentDidMount() {\n \n    document.addEventListener(\"keydown\", e => { e.preventDefault();\n      if (e.keyCode === 39) {\n        document.getElementById(\"Yplus\").click(); \n      } else if (e.keyCode === 40) {\n        document.getElementById(\"Xplus\").click(); \n      } else if (e.keyCode === 37) {\n        document.getElementById(\"Yminus\").click(); \n      } else if (e.keyCode === 38) {\n        document.getElementById(\"Xminus\").click(); \n      }\n    });\n    this.setState({ positions, hpotions })\n      let posX;\n      let posY;\n      for(let i = 0; i < 30; i++){\n          for(let j = 0; j < 50; j++){\n              if(Math.random() < 0.2 &&\n                 !posX &&\n                 !posY &&\n                 floorMap[j][i].cellType === \"empty\" &&\n                 positions[i][j] === 0 &&\n                 this.state.weapons[i][j] === 0 &&\n                 hpotions[i][j] === 0\n              ){\n                  posX = i;\n                  posY = j;\n              }  \n          } \n      }\n      this.setState({ posX, posY })\n  }\n \n detectEnemy(nextY, nextX){\n\n   let { positions } = this.state\n    \n   if(nextY + 1 <= 49 && positions[nextY + 1][nextX] === 1){\n      alert('Enemy detected!, right');\n      this.setState({fightOn: true})\n      return {enemyDir: \"right\", enemyLevel: 1, enemyHp: enemy[1].hp, enemyAttack: enemy[1].attack}\n   } else if(nextX + 1 <= 29 && positions[nextY][nextX + 1] === 1){\n      alert('Enemy detected!, down');\n      this.setState({fightOn: true})\n      return {enemyDir: \"down\", enemyLevel: 1, enemyHp: enemy[1].hp, enemyAttack: enemy[1].attack}\n    } else if(nextY - 1 >= 0 && positions[nextY - 1][nextX] === 1){\n      alert('Enemy detected!, left');\n      this.setState({fightOn: true})\n      return {enemyDir: \"left\", enemyLevel: 1, enemyHp: enemy[1].hp, enemyAttack: enemy[1].attack}\n    } else if(nextX - 1 >= 0 && positions[nextY][nextX - 1] === 1){\n      alert('Enemy detected!, up');\n      this.setState({fightOn: true})\n      return {enemyDir: \"up\", enemyLevel: 1, enemyHp: enemy[1].hp, enemyAttack: enemy[1].attack}\n    } console.log(\"from inside the detectEnemy\", this.state.fightOn)\n     return \"clear\" \n   } \n\nhandleTravel(e) {\n    e.preventDefault();\n\n\n   let { positions, hpotions, weapons } = this.state \n\n if(this.state.enemyDir === null){\n    let {posX, posY} = this.state; \n    if (e.target.id === \"Yplus\") {\n      if (\n        posY < 49 &&\n        floorMap[posY + 1][posX].cellType === \"empty\" &&\n        positions[posY + 1][posX] !== 1 \n      ) {\n        if(typeof this.detectEnemy(posY + 1, posX) === 'object'){\n          let {enemyDir, enemyLevel, enemyAttack, enemyHp} = this.detectEnemy(posY + 1, posX)\n          this.setState({ enemyDir, enemyLevel, enemyAttack, enemyHp})\n        } else {\n          this.setState({fightOn: false})\n        }\n        let currHp = this.state.hp\n        if(hpotions[posY + 1][posX] === 1 ){ this.setState({ hp : currHp+=65 }); alert('potion collected')}\n        if(weapons[posY + 1][posX] !== 0){ this.setState({ weaponLevel : weapons[posY + 1][posX] }); alert(`picked a ${weapon[weapons[posY + 1][posX]][0]}`)}\n        let clonedPotions = hpotions.slice(0)\n        clonedPotions[posY + 1][posX] = 0 \n        let clonedWeapons = weapons.slice(0)\n        clonedWeapons[posY + 1][posX] = 0\n        this.setState({ posY: posY + 1, hpotions: clonedPotions, weapons: clonedWeapons });\n      } \n    } else if (e.target.id === \"Xplus\") {\n      if (\n        posX < 29 &&\n        floorMap[posY][posX + 1].cellType === \"empty\" &&\n        positions[posY][posX + 1] !== 1\n      ) {\n        if(typeof this.detectEnemy(posY, posX + 1) === 'object'){\n          let {enemyDir, enemyLevel, enemyAttack, enemyHp} = this.detectEnemy(posY, posX + 1)\n          this.setState({ enemyDir, enemyLevel, enemyAttack, enemyHp })\n        } else {\n          this.setState({fightOn: false})\n        }\n \n        let currHp = this.state.hp\n        if(hpotions[posY][posX + 1] === 1 ){ this.setState({ hp : currHp+=65 }); alert('potion collected')}\n        if(weapons[posY][posX + 1] !== 0 ){ this.setState({ weaponLevel : weapons[posY][posX + 1]}); alert(`picked a ${weapon[weapons[posY][posX + 1]][0]}`)}\n        let clonedPotions = hpotions.slice(0)\n        clonedPotions[posY][posX + 1] = 0\n        let clonedWeapons = weapons.slice(0)\n        clonedWeapons[posY][posX + 1] = 0\n        this.setState({ posX: posX + 1, hpotions: clonedPotions, weapons: clonedWeapons });\n      }\n    } else if (e.target.id === \"Yminus\") {\n      if (\n        posY > 0 && \n        floorMap[posY - 1][posX].cellType === \"empty\" &&\n        positions[posY - 1][posX] !== 1\n      ) {\n         if(typeof this.detectEnemy(posY - 1, posX) === 'object'){\n          let {enemyDir, enemyLevel, enemyAttack, enemyHp} = this.detectEnemy(posY - 1, posX)\n          this.setState({ enemyDir, enemyLevel, enemyAttack, enemyHp })\n        } else {\n          this.setState({fightOn: false})\n        }\n\n        let currHp = this.state.hp\n        if(hpotions[posY - 1][posX] === 1 ){ this.setState({ hp : currHp+=65 }); alert('potion collected')}\n        if(weapons[posY - 1][posX] !== 0 ){ this.setState({weaponLevel: weapons[posY - 1][posX]}); alert(`picked a ${weapon[weapons[posY - 1][posX]][0]}`)}\n        let clonedPotions = hpotions.slice(0)\n        clonedPotions[posY - 1][posX] = 0\n        let clonedWeapons = weapons.slice(0)\n        clonedWeapons[posY - 1][posX] = 0\n        this.setState({ posY: posY - 1, hpotions: clonedPotions, weapons: clonedWeapons});\n      }\n    } else {\n      if (\n        posX > 0 &&\n        floorMap[posY][posX - 1].cellType === \"empty\" &&\n        positions[posY][posX - 1] !== 1\n      ) {\n         if(typeof this.detectEnemy(posY, posX - 1) === 'object'){\n          let {enemyDir, enemyLevel, enemyAttack, enemyHp} = this.detectEnemy(posY, posX - 1)\n          this.setState({ enemyDir, enemyLevel, enemyAttack, enemyHp })\n        } else {\n          this.setState({fightOn: false})\n        }\n  \n        let currHp = this.state.hp\n        if(hpotions[posY][posX - 1] === 1 ){ this.setState({ hp : currHp+=65 }); alert('potion collected')}\n        if(weapons[posY][posX - 1] !== 0){ this.setState({weaponLevel: weapons[posY][posX - 1]}); alert(`picked a ${weapon[weapons[posY][posX - 1]][0]}`)}\n        let clonedPotions = hpotions.slice(0)\n        clonedPotions[posY][posX - 1] = 0\n        let clonedWeapons = weapons.slice(0)\n        clonedWeapons[posY][posX - 1] = 0\n        this.setState({ posX: posX - 1, hpotions: clonedPotions, weapons: clonedWeapons});\n      }\n    }\n } else {\n  this.handleCombat(e) \n }   \n}\n       \nhandleCombat(e){\n  let {hp, xp, enemyLevel, weaponLevel, enemyDir, enemyHp, enemyAttack, posY, posX} = this.state, \n    //weaponName = weapon[weaponLevel][0],\n      weaponAttack = weapon[weaponLevel][1]\n       \n    if(enemyDir === \"right\" && e.target.id === \"Yplus\"){\n      enemyHp = enemyHp - weaponAttack >=0 ? enemyHp - weaponAttack : 0 \n      hp = hp - enemyAttack >= 0 ? hp - enemyAttack : 0 \n      xp += 5*enemyLevel \n      if(enemyHp === 0){\n        // positions - the thug obliterated\n        let clonedArr = this.state.positions.slice(0) \n        clonedArr[posY+1][posX] = 0\n        this.setState({ positions: clonedArr })\n        this.setState({\n          enemyDir : null,\n          enemyHp: null,\n          enemyAttack: null,\n          enemyLevel: null})}\n      else{ this.setState({enemyHp, hp, xp}) }\n    } else if(enemyDir === \"left\" && e.target.id === \"Yminus\"){\n      enemyHp = enemyHp - weaponAttack >= 0 ? enemyHp - weaponAttack : 0 \n      hp = hp - enemyAttack >= 0 ? hp - enemyAttack : 0\n      xp += 5*enemyLevel \n      if(enemyHp === 0){\n        // positions - the thug obliterated\n        let clonedArr = this.state.positions.slice(0) \n        clonedArr[posY-1][posX] = 0\n        this.setState({ positions: clonedArr })\n        this.setState({\n          enemyDir : null,\n          enemyHp: null,\n          enemyAttack: null,\n          enemyLevel: null})}\n      this.setState({enemyHp, hp, xp})\n    } else if(enemyDir === \"up\" && e.target.id === \"Xminus\"){\n      enemyHp = enemyHp - weaponAttack >=0 ? enemyHp - weaponAttack : 0 \n      hp = hp - enemyAttack >= 0 ? hp - enemyAttack : 0\n      xp += 5*enemyLevel \n      if(enemyHp === 0){\n        // positions - the thug obliterated\n        let clonedArr = this.state.positions.slice(0) \n        clonedArr[posY][posX-1] = 0\n        this.setState({ positions: clonedArr })\n        this.setState({\n          enemyDir : null,\n          enemyHp: null,\n          enemyAttack: null,\n          enemyLevel: null})}\n      this.setState({enemyHp, hp, xp})\n    } else if(enemyDir === \"down\" && e.target.id === \"Xplus\"){\n      enemyHp = enemyHp - weaponAttack >=0 ? enemyHp - weaponAttack : 0 \n      hp = hp - enemyAttack >= 0 ? hp - enemyAttack : 0\n      xp += 5*enemyLevel \n      if(enemyHp === 0){\n        // positions - the thug obliterated\n        let clonedArr = this.state.positions.slice(0) \n        clonedArr[posY][posX+1] = 0\n        this.setState({ positions: clonedArr })\n        this.setState({\n          enemyDir : null,\n          enemyHp: null,\n          enemyAttack: null,\n          enemyLevel: null})}\n      this.setState({enemyHp, hp, xp}) \n    }\n}\n\n// when fight is won..\n// erase enemy from positions arr\n// reset enemy states to null\n\nrender() {\n  //  console.log(this.state.enemyDir, this.state.enemyDir ? this.state.enemyHp : \"\");\n  if(this.state.hp === 0) { alert('Game Over') }\n  let { posX, posY, positions, hpotions, weapons } = this.state \n    let units = [];\n    for (let i = 0; i < 30; i++) {\n      for (let j = 0; j < 50; j++) {\n        let thugPresence = positions[j][i]\n        let potionPresence = hpotions[j][i]\n        let weaponL = weapons[j][i]\n        units.push(\n          <Units\n            meX={i}\n            meY={j}\n            posX={posX}\n            posY={posY}\n            thugP={thugPresence}\n            potionP={potionPresence}\n            weaponL={weaponL}\n          />\n        );\n      }\n   }\n    return (\n      <div>\n        <h1 style={{ color: \"gainsboro\", textAlign: \"center\" }}>\n          Dungeon Crawler\n        </h1>\n        <div className=\"display-section\">\n          <div className=\"statsbar\">\n            <span>Hp: {this.state.hp}</span>\n            <span>Xp: {this.state.xp}</span>\n            <span>Weapon: {weapon[this.state.weaponLevel][0]}</span>\n          </div>\n          <div className=\"actionbar\">\n            { this.state.enemyLevel \n                ? (<div><span> E level: {this.state.enemyLevel}</span>\n                  <span> E hp: {this.state.enemyHp} </span>\n                  <span> E attack: {this.state.enemyAttack} </span></div>)\n                : null  \n            }\n          </div>\n        </div>\n        <div className=\"container\">{units}</div>\n        <div className=\"navigation\">\n          <button id=\"Yminus\" className=\"dirButton\" onClick={this.handleTravel}>\n           &#8678;\n          </button>\n          <button id=\"Xminus\" className=\"dirButton\" onClick={this.handleTravel}>\n           &#8679;\n          </button>\n          <button id=\"Xplus\" className=\"dirButton\" onClick={this.handleTravel}>\n           &#8681;\n          </button>\n          <button id=\"Yplus\" className=\"dirButton\" onClick={this.handleTravel}>\n           &#8680;\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst Units = props => {\n  const { meX, meY, posX, posY, thugP, potionP, weaponL } = props;\n    return Math.abs(meX - posX) <= 6 && Math.abs(meY - posY) <= 6\n      ? meX === posX && meY === posY ? <div className=\"units pos\" />\n        : floorMap[meY][meX].cellType === \"wall\" ? <div className=\"units brick\" />\n        : thugP ? (<div className=\"units thug\" />)\n          : potionP ? (<div className=\"units potion\" />) \n          : weaponL === 1 ? (<div className=\"units weapon2\" />)\n          : weaponL === 2 ? (<div className=\"units weapon3\" />)\n          : weaponL === 3 ? (<div className=\"units weapon4\" />)\n          : (<div className=\"units visible\" />)\n     : <div className=\"units\" />\n  };\n\nexport default App;\n","// const map = [\n//   [8, 9, 10, 16, 17, 18, 19, 20, 21, 22, 23, 24],\n//   [8, 9, 10, 16, 17, 18, 19, 20, 21, 22, 23, 24],\n//   [8, 9, 10],\n//   [8, 9, 10, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [\n//     3,\n//     4,\n//     5,\n//     6,\n//     8,\n//     9,\n//     10,\n//     12,\n//     14,\n//     15,\n//     16,\n//     17,\n//     18,\n//     19,\n//     20,\n//     21,\n//     22,\n//     23,\n//     24,\n//     25,\n//     26,\n//     27,\n//     28\n//   ],\n//   [3, 4, 5, 6, 8, 9, 10, 12, 14, 15],\n//   [3, 4, 5, 6, 8, 9, 10, 11, 12, 14, 15],\n//   [3, 4, 5, 6, 14, 15],\n//   [3, 4, 5, 6, 14, 15],\n//   [3, 4, 5, 6, 14, 15, 17, 18, 19, 20],\n//   [3, 4, 5, 6, 17, 18, 19, 20],\n//   [3, 4, 5, 6, 17, 18, 19, 20],\n//   [3, 4, 5, 6, 7, 8, 9, 17, 18, 19, 20],\n//   [3, 4, 5, 6, 7, 8, 9, 17, 18, 19, 20],\n//   [3, 4, 5, 6, 7, 8, 9, 17, 18, 19, 20],\n//   [3, 4, 5, 6, 7, 8, 9, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29],\n//   [3, 4, 5, 6, 7, 8, 9, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29],\n//   [3, 4, 5, 6, 7, 8, 9, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29],\n//   [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],\n//   [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],\n//   [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],\n//   [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],\n//   [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 26, 27, 28, 29],\n//   [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 26, 27, 28, 29],\n//   [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22],\n//   [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22],\n//   [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22],\n//   [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14],\n//   [9, 10, 11, 12, 13, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [13, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [13, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [13, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [13, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [13, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [13, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [7, 8, 9, 10, 11, 13, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [7, 8, 9, 10, 11, 13, 14, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],\n//   [\n//     0,\n//     1,\n//     2,\n//     3,\n//     4,\n//     7,\n//     8,\n//     9,\n//     10,\n//     11,\n//     13,\n//     14,\n//     17,\n//     18,\n//     19,\n//     20,\n//     21,\n//     22,\n//     23,\n//     24,\n//     25,\n//     26,\n//     27,\n//     28\n//   ],\n//   [\n//     0,\n//     1,\n//     2,\n//     3,\n//     4,\n//     7,\n//     8,\n//     9,\n//     10,\n//     11,\n//     17,\n//     18,\n//     19,\n//     20,\n//     21,\n//     22,\n//     23,\n//     24,\n//     25,\n//     26,\n//     27,\n//     28\n  // ]\n// ]\n\n  /**\n* -----------------------------------------------\n* DUNGEON MAP GENERATOR v0.1 by EmAnt - 2016\n* -----------------------------------------------\n* !! WARNING:\n*   Development version.\n*   NO INPUT DATA VALIDATION INCLUDED.\n* -----------------------------------------------\n*\n* It adds a Global Object 'DungeonGenerator', which has a\n* function memeber 'generate'.\n*\n* Usage:\n*\n* {Array[Array[{Object} Cell]]} floorMap =\n*   DungeonGenerator.generate({Object} Config);\n*\n* @param {Object} Config - configuration object\n*\n* Config = {\n*   rows: default 31 - better if odd,\n*   cols: default 51 - better if odd,\n*   minRoomSize: default 3 - odd only,\n*   maxRoomSize: default 7 - odd only,\n*   padding: map padding - default 2,\n*   rooms: expected rooms - default 15\n*   maxAttempts: max attempts placing rooms - default 500\n* }\n*\n* @return {Array[Array[{Object} Cell]]} - Matrix of cell objects\n*\n* Cell = {\n*   cellType : 'wall' or 'empty',\n* }\n*/\nexport default (function DungeonGenerator() {\n\n  var MAXSIZE, MINSIZE, ROWS, COLS, BORDER,\n      ATTEMPTS, WALL='W', EMPTY='E', ROOMS;\n\n  function isNotOverlapping(floorMap, room) {\n    var status = true;\n    for (var i = room.row - 1; i < room.row + room.h + 1  ; i++ ) {\n      for (var j = room.col-1; j < room.col + room.w +1; j++) {\n        if (floorMap[i][j] !== WALL) {\n            status = false;\n            break;\n        }\n      }\n    }\n    return status;\n  }\n\n  function linkStraightH(floorMap, r1, r2){\n    var inc = r1.col < r2.col ? 1 : -1;\n    for (var i = r1.col; i !== r2.col; i+=inc) {\n      floorMap[r1.row][i] = EMPTY;\n    }\n  };\n\n  function linkStraightV(floorMap, r1, r2){\n    var inc = r1.row < r2.row ? 1 : -1;\n    for (var i = r1.row; i !== r2.row; i+=inc) {\n      floorMap[i][r1.col] = EMPTY;\n    }\n  };\n\n  function link2Steps(floorMap, r1, r2) {\n    var flipCoin = Math.floor(Math.random()*2);\n    // TOP LEFT\n    if(r1.row > r2.row && r1.col > r2.col) {\n      if (flipCoin) {\n        // Vertical then horizontal hallway\n        for (var i = r1.row-1; i >= r2.row + r2.h-1; i--)\n          floorMap[i][r1.col] = EMPTY;\n        for (var i = r1.col-1;  i >= r2.col + r2.w; i--)\n          floorMap[r2.row+r2.h-1][i] = EMPTY;\n      } else {\n        // H First\n        for (var i = r1.col-1; i >= r2.col + r2.w-1; i--)\n          floorMap[r1.row][i] = EMPTY;\n        for (var i = r1.row-1;  i >= r2.row + r2.h; i--)\n          floorMap[i][r2.col+r2.w-1] = EMPTY;\n      }\n    // TOP RIGHT\n    } else if(r1.row > r2.row && r1.col < r2.col) {\n      if (flipCoin) {\n        // V First\n        for (var i = r1.row-1; i >= r2.row + r2.h-1; i--)\n          floorMap[i][r1.col+r1.w-1] = EMPTY;\n        for (var i = r1.col + r1.w;  i < r2.col; i++)\n          floorMap[r2.row+r2.h-1][i] = EMPTY;\n      } else {\n        // H First\n        for (var i = r1.col + r1.w; i <= r2.col; i++)\n          floorMap[r1.row][i] = EMPTY;\n        for (var i = r1.row-1;  i >= r2.row + r2.h; i--)\n          floorMap[i][r2.col] = EMPTY;\n\n      }\n    } else {\n      // r2 is not above r1\n      return false;\n    }\n    return true;\n  };\n\n  function linkRooms(floorMap, r1, r2) {\n    if (r1.row >= r2.row && r1.row < r2.row + r2.h) {\n      linkStraightH(floorMap, r1, r2);\n    } else if (r2.row >= r1.row && r2.row < r1.row + r1.h) {\n      linkStraightH(floorMap, r2, r1);\n    } else if (r1.col >= r2.col && r1.col < r2.col + r2.w) {\n      linkStraightV(floorMap, r1, r2);\n    } else if (r2.col >= r1.col && r2.col < r1.col + r1.w) {\n      linkStraightV(floorMap, r2, r1);\n    } else {\n      if(!link2Steps(floorMap, r1, r2)) // if r2 is not on top\n        link2Steps(floorMap, r2, r1);   // r1 is on top\n    }\n  }\n\n  function randomEvenOdd (min, max) {\n      if(max === min) return max;\n      return min + Math.floor(Math.random()*Math.floor((max - min)/2 +1))*2;\n  };\n\n  function addRoom(floorMap) {\n    var out = undefined;\n    var h = randomEvenOdd(MINSIZE, MAXSIZE);\n    var w = randomEvenOdd(MINSIZE, MAXSIZE);\n    var room = {\n      h: h,\n      w: w,\n      row: randomEvenOdd(0, ROWS-h-2*BORDER) + BORDER,\n      col: randomEvenOdd(0, COLS-w-2*BORDER) + BORDER,\n    };\n\n    if (isNotOverlapping(floorMap, room)){\n      for (var i = room.row; i < room.row + room.h; i++) {\n        for (var j = room.col; j < room.col + room.w; j++) {\n          floorMap[i][j] = EMPTY;\n        }\n      }\n      out = room;\n    }\n    return out;\n  };\n\n  var DungeonGenerator = {\n    generate: function(config) {\n\n      var cfg = config ? config : {};\n\n      ROWS = cfg.rows || 31;\n      COLS = cfg.cols || 51;\n      MAXSIZE = cfg.maxRoomSize || 7;\n      MINSIZE= cfg.minRoomSize || 3;\n      BORDER = cfg.padding || 2;\n      ATTEMPTS = cfg.maxAttempts || 500;\n      ROOMS = cfg.rooms || 15;\n\n      var floorMap = [];\n      for (var i = 0; i < ROWS; i++) {\n        var r = [];\n        for (var j = 0; j < COLS; j++) {\n          r.push(WALL);\n        }\n        floorMap.push(r);\n      }\n\n      var roomsToLink = [];\n      var roomsLinked = [];\n      var i = 0;\n      var r = 0;\n      while (i < ATTEMPTS && r < ROOMS){\n        var newRooom = addRoom(floorMap);\n        if(newRooom) {\n          roomsToLink.push(newRooom);\n          r++;\n        }\n        i++;\n      }\n\n      function distance(a, b) {\n        var d2 = (b.row-a.row)^2 + (b.col-a.col)^2;\n        return Math.sqrt(d2);\n      };\n\n      roomsLinked.push(roomsToLink.pop());\n      while(roomsToLink.length) {\n        var r1 = roomsLinked[roomsLinked.length - 1];\n        var r2 = roomsToLink.sort(function (a,b){\n          if (distance(r1,a) < distance(r1,b)) return 1;\n          if (distance(r1,a) > distance(r1,b)) return -1;\n          return 0;\n        }).pop();\n        linkRooms(floorMap,r1,r2);\n        roomsLinked.push(r2);\n        r1 = r2;\n      }\n      return floorMap.map(function(row,i){\n        return row.map(function(cell, j){\n          return {cellType: cell === WALL ? 'wall' : 'empty'};\n        })\n      })\n    }\n  };\n  return DungeonGenerator;\n})()\n\n//export default map;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}