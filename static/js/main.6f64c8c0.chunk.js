(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,n){e.exports=n.p+"static/media/footsteps.b1c1ae92.mp3"},,,function(e,t,n){e.exports=n.p+"static/media/picked.36b94156.mp3"},,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/hp.712a1734.png"},function(e,t,n){e.exports=n.p+"static/media/hammer.e82ef265.png"},function(e,t,n){e.exports=n.p+"static/media/fire.99f6a8e2.png"},function(e,t,n){e.exports=n.p+"static/media/sword.2317bce5.png"},function(e,t,n){e.exports=n.p+"static/media/punch-blast.6b4a7786.png"},function(e,t,n){e.exports=n.p+"static/media/hero.cb45efca.png"},function(e,t,n){e.exports=n.p+"static/media/punch-attack.c71000d7.mp3"},function(e,t,n){e.exports=n.p+"static/media/fight-begin.e6dfff77.mp3"},function(e,t,n){e.exports=n.p+"static/media/fire-attack.66e85f2a.mp3"},function(e,t,n){e.exports=n.p+"static/media/dying.4849f499.mp3"},,,,function(e,t,n){e.exports=n(50)},,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/enemy.b07bdeeb.png"},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(3),c=n.n(s),i=n(5),l=n(13),r=(n(45),n(27)),u=n(14),p=n(15),h=n(28),m=n(16),d=n(29),f=n(2),w=(n(47),function(){var e,t,n,a,o,s,c,i="W",l="E";function r(e,t,n){for(var a=t.col<n.col?1:-1,o=t.col;o!==n.col;o+=a)e[t.row][o]=l}function u(e,t,n){for(var a=t.row<n.row?1:-1,o=t.row;o!==n.row;o+=a)e[o][t.col]=l}function p(e,t,n){var a=Math.floor(2*Math.random());if(t.row>n.row&&t.col>n.col)if(a){for(var o=t.row-1;o>=n.row+n.h-1;o--)e[o][t.col]=l;for(o=t.col-1;o>=n.col+n.w;o--)e[n.row+n.h-1][o]=l}else{for(o=t.col-1;o>=n.col+n.w-1;o--)e[t.row][o]=l;for(o=t.row-1;o>=n.row+n.h;o--)e[o][n.col+n.w-1]=l}else{if(!(t.row>n.row&&t.col<n.col))return!1;if(a){for(o=t.row-1;o>=n.row+n.h-1;o--)e[o][t.col+t.w-1]=l;for(o=t.col+t.w;o<n.col;o++)e[n.row+n.h-1][o]=l}else{for(o=t.col+t.w;o<=n.col;o++)e[t.row][o]=l;for(o=t.row-1;o>=n.row+n.h;o--)e[o][n.col]=l}}return!0}function h(e,t,n){t.row>=n.row&&t.row<n.row+n.h?r(e,t,n):n.row>=t.row&&n.row<t.row+t.h?r(e,n,t):t.col>=n.col&&t.col<n.col+n.w?u(e,t,n):n.col>=t.col&&n.col<t.col+t.w?u(e,n,t):p(e,t,n)||p(e,n,t)}function m(e,t){return t===e?t:e+2*Math.floor(Math.random()*Math.floor((t-e)/2+1))}function d(s){var c=void 0,r=m(t,e),u=m(t,e),p={h:r,w:u,row:m(0,n-r-2*o)+o,col:m(0,a-u-2*o)+o};if(function(e,t){for(var n=!0,a=t.row-1;a<t.row+t.h+1;a++)for(var o=t.col-1;o<t.col+t.w+1;o++)if(e[a][o]!==i){n=!1;break}return n}(s,p)){for(var h=p.row;h<p.row+p.h;h++)for(var d=p.col;d<p.col+p.w;d++)s[h][d]=l;c=p}return c}var f={generate:function(l){var r=l||{};n=r.rows||31,a=r.cols||51,e=r.maxRoomSize||7,t=r.minRoomSize||3,o=r.padding||2,s=r.maxAttempts||500,c=r.rooms||15;for(var u=[],p=0;p<n;p++){for(var m=[],f=0;f<a;f++)m.push(i);u.push(m)}var w=[],g=[];for(p=0,m=0;p<s&&m<c;){var v=d(u);v&&(w.push(v),m++),p++}function y(e,t){var n=t.row-e.row^t.col-e.col+2^2;return Math.sqrt(n)}for(g.push(w.pop());w.length;){var b=g[g.length-1],k=w.sort(function(e,t){return y(b,e)<y(b,t)?1:y(b,e)>y(b,t)?-1:0}).pop();h(u,b,k),g.push(k),b=k}return u.map(function(e,t){return e.map(function(e,t){return{cellType:e===i?"wall":"empty"}})})}};return f}()),g=[{hp:100,attack:45},{hp:100,attack:75},{hp:100,attack:90},{hp:100,attack:100}],v=[["Punch",45],["Hammer",65],["Sword",80],["Fire",100]],y=w.generate({maxRoomSize:7,minRoomSize:5,padding:2,rooms:27,rows:50,cols:30}),b=new Array(50).fill().map(function(e){return new Array(30).fill(0)}),k=0;b.forEach(function(e,t){e.forEach(function(e,n){var a=Math.random();b[t][n]="empty"===y[t][n].cellType&&t%1.2!==0&&n%2===0?a>.01&&a<.03?(k+=1,"thug1"):a>.03&&a<.04?(k+=1,"thug2"):a>.006&&a<.01?"pot":a>.001&&a<.003?"w1":a>.003&&a<.005?"w2":a>.005&&a<.0059?"w3":"empty":y[t][n].cellType})}),console.log(b,k);var x=n(17),S=n.n(x),O=n(18),E=n.n(O),C=n(19),N=n.n(C),j=n(20),X=n.n(j),A=n(21),L=n.n(A),W=(n(49),n(22)),D=n.n(W),R=function(e){var t,n=e.hp,a=e.xp,s=e.weaponLevel,c=(e.enemyLevel,e.enemyHp),i=(e.enemyAttack,e.thugCount);return o.a.createElement("div",{className:"display-section"},o.a.createElement("div",{className:"statsbar"},o.a.createElement("span",null,o.a.createElement("img",{alt:"health-icon",src:S.a}),n),o.a.createElement("span",null,o.a.createElement("img",{alt:"xp-icon",src:D.a}),a),o.a.createElement("span",null,o.a.createElement("img",{alt:"weapon-icon",src:(t=s,0===t?L.a:1===t?E.a:2===t?X.a:N.a)}),v[s][1])),o.a.createElement("div",{className:"actionbar"},o.a.createElement("span",{style:{color:"red",fontWeight:"bold",margin:"0 10px"}},i),o.a.createElement("div",{style:{width:"220px",overflow:"hidden"}},o.a.createElement("p",{style:{width:"".concat(n,"%"),background:"lightgreen",height:"25px",margin:"5px"}}),o.a.createElement("p",{style:{width:"".concat(c||0,"%"),background:"orangered",height:"25px",margin:"5px"}}))))},H=function(e){return e.mssg?o.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:270,margin:"auto",width:"200px",height:"88px",background:"rgb(255, 255, 255, 0.6)",display:"flex",alignItems:"center",justifyContent:"center"}},e.mssg?e.mssg:"I have nothing"):null},I=function(e){var t=e.meX,n=e.meY,a=e.posX,s=e.posY,c=e.presence;return t===a&&n===s?o.a.createElement("div",{className:"units pos"}):"wall"===c?o.a.createElement("div",{className:"units brick"}):"boss"===c?o.a.createElement("div",{className:"units boss"}):"thug1"===c?o.a.createElement("div",{className:"units thug"}):"thug2"===c?o.a.createElement("div",{className:"units thug2"}):"pot"===c?o.a.createElement("div",{className:"units potion"}):"w1"===c?o.a.createElement("div",{className:"units weapon2"}):"w2"===c?o.a.createElement("div",{className:"units weapon3"}):"w3"===c?o.a.createElement("div",{className:"units weapon4"}):o.a.createElement("div",{className:"units visible"})},B=function(e){return o.a.createElement("div",{className:"navigation"},o.a.createElement("button",{id:"Yminus",className:"dirButton fa fa-arrow-circle-left",onClick:e.handleTravel}),o.a.createElement("button",{id:"Xminus",className:"dirButton fa fa-arrow-circle-up",onClick:e.handleTravel}),o.a.createElement("button",{id:"Xplus",className:"dirButton fa fa-arrow-circle-down",onClick:e.handleTravel}),o.a.createElement("button",{id:"Yplus",className:"dirButton fa fa-arrow-circle-right",onClick:e.handleTravel}))},U=function(e){var t=e.res;return o.a.createElement("div",{style:{height:"100vh",background:"#232323",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{width:"250px",border:"4px solid #211",padding:"20px",background:"#eff",textAlign:"center"}},o.a.createElement("h3",null,"Game Over"),o.a.createElement("h1",null,t),o.a.createElement("button",{className:"restart-button",onClick:function(){return window.location.reload()}},"Restart")))},z=(n(23),n(24)),q=n.n(z),J=n(25),K=n.n(J),G=n(26),F=n.n(G),Q=n(4),V=n.n(Q),Z=n(7),Y=n.n(Z),P=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={posX:Math.round(30*Math.random()),posY:Math.round(50*Math.random()),hp:100,xp:25,presence:b,thugCount:k,enemyDir:null,enemyHp:null,enemyAttack:null,weaponLevel:0,enemyLevel:null,fightOn:!1,gameWon:!1,mssg:null,soundPlaying:!1},n.handleTravel=n.handleTravel.bind(Object(f.a)(Object(f.a)(n))),n.checkFor=n.checkFor.bind(Object(f.a)(Object(f.a)(n))),n.handleCombat=n.handleCombat.bind(Object(f.a)(Object(f.a)(n))),n.emptyPresence=n.emptyPresence.bind(Object(f.a)(Object(f.a)(n))),n.attact=n.attack.bind(Object(f.a)(Object(f.a)(n))),n.updatePositions=n.updatePositions.bind(Object(f.a)(Object(f.a)(n))),n.playSound=n.playSound.bind(Object(f.a)(Object(f.a)(n))),n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){function e(e){document.querySelector("#".concat(e))&&document.querySelector("#".concat(e)).click()}var t,n;document.addEventListener("keydown",function(t){return 39===t.keyCode?e("Yplus"):40===t.keyCode?e("Xplus"):37===t.keyCode?e("Yminus"):38===t.keyCode?e("Xminus"):null}),b.forEach(function(e,a){return e.forEach(function(e,o){return!(Math.random()<.02)||t&&n||"empty"!==b[a][o]?null:(t=o,n=a)})}),this.setState({posX:t,posY:n,thugCount:k}),console.log(this.state.presence)}},{key:"playSound",value:function(e){new Audio(e).play()}},{key:"checkFor",value:function(e,t,n){var a=this.state.presence;function o(e,t){return parseInt(a[e][t][a[e][t].length-1])}return a[e+1][t].indexOf(n)>=0?{dir:"right",level:o(e+1,t)}:a[e][t+1].indexOf(n)>=0?{dir:"down",level:o(e,t+1)}:a[e-1][t].indexOf(n)>=0?{dir:"left",level:o(e-1,t)}:a[e][t-1].indexOf(n)>=0?{dir:"up",level:o(e,t-1)}:"clear"}},{key:"emptyPresence",value:function(e,t){var n=b.slice(0);n[e][t]="empty",this.setState({presence:n})}},{key:"updatePositions",value:function(e,t){var n=this.state.presence[e][t];if("object"===typeof this.checkFor(e,t,"thug")){var a=this.checkFor(e,t,"thug"),o=a.dir,s=a.level,c={enemyDir:o,enemyLevel:s,enemyHp:g[s].hp,enemyAttack:g[s].attack};this.setState({mssg:"LOOK OUT! Enemy ".concat(o)}),console.log(s),this.setState({fightOn:!0}),this.setState(Object(r.a)({},c))}else this.setState({fightOn:!1});var i=this.state.hp;"pot"===n?(this.setState({hp:i+=65}),this.setState({mssg:"potion collected"}),this.playSound(Y.a),this.emptyPresence(e,t)):"w"===n[0]&&"wall"!==n&&(this.setState({weaponLevel:parseInt(n[1])}),this.playSound(Y.a),this.setState({mssg:"picked a ".concat(v[parseInt(n[1])][0])}),this.emptyPresence(e,t))}},{key:"handleTravel",value:function(e){function t(e,t){return"thug"!==b[e][t]&&"boss"!==b[e][t]&&"wall"!==b[e][t]}if(e.preventDefault(),null!==this.state.enemyDir||this.state.gameWon||0===this.state.hp)this.handleCombat(e);else{var n=this.state,a=n.posX,o=n.posY;"Yplus"===e.target.id&&o<49&&t(o+1,a)?(this.playSound(V.a),this.updatePositions(o+1,a),this.setState({posY:o+1})):"Xplus"===e.target.id&&a<29&&t(o,a+1)?(this.playSound(V.a),this.updatePositions(o+1,a),this.updatePositions(o,a+1),this.setState({posX:a+1})):"Yminus"===e.target.id&&o>0&&t(o-1,a)?(this.playSound(V.a),this.updatePositions(o+1,a),this.updatePositions(o-1,a),this.setState({posY:o-1})):"Xminus"===e.target.id&&a>0&&t(o,a-1)&&(this.playSound(V.a),this.updatePositions(o+1,a),this.updatePositions(o,a-1),this.setState({posX:a-1}))}}},{key:"attack",value:function(e,t){var n=this.state.weaponLevel;this.playSound(3===n?K.a:q.a);var a=this.state,o=a.hp,s=a.xp,c=a.enemyLevel,i=a.weaponLevel,l=a.enemyHp,r=a.enemyAttack,u=a.thugCount,p=v[i][1];o=o-r>=0?o-r:0,l=l-p-s>=0?l-p-s:0,s+=5*c,0===l?(this.emptyPresence(e,t),this.setState({thugCount:u-1}),this.setState({enemyDir:null,enemyHp:null,enemyAttack:null,enemyLevel:null})):this.setState({enemyHp:l,hp:o,xp:s})}},{key:"handleCombat",value:function(e){var t=this.state,n=t.enemyDir,a=t.posY,o=t.posX;"right"===n&&"Yplus"===e.target.id?this.attack(a+1,o):"left"===n&&"Yminus"===e.target.id?this.attack(a-1,o):"up"===n&&"Xminus"===e.target.id?this.attack(a,o-1):"down"===n&&"Xplus"===e.target.id&&this.attack(a,o+1)}},{key:"render",value:function(){var e=this;if(0===this.state.hp)return this.playSound(F.a),o.a.createElement(U,{res:"You Lost !!"});if(0===this.state.thugCount)return o.a.createElement(U,{res:"YOU WON !!!!!"});for(var t=this.state,n=t.posX,a=t.posY,s=[],c=0;c<30;c++)for(var i=0;i<50;i++)s.push(o.a.createElement(I,{meX:c,meY:i,posX:n,posY:a,presence:this.state.presence[i][c]}));return this.state.mssg&&setTimeout(function(){return e.setState({mssg:null})},1500),o.a.createElement("div",null,o.a.createElement("h1",{style:{color:"gainsboro",textAlign:"center",padding:"3px"}},"Dungeon Kings"),o.a.createElement(R,this.state),o.a.createElement("div",{className:"container-wrapper"},o.a.createElement("div",{className:"container",style:{position:"relative",right:"".concat(30*(this.state.posY-5),"px"),bottom:"".concat(30*(this.state.posX-5),"px")}},s)),o.a.createElement(B,{handleTravel:this.handleTravel}),o.a.createElement(H,{mssg:this.state.mssg}))}}]),t}(o.a.Component),$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var T={timeout:3e3,position:i.b.TOP_CENTER};c.a.render(o.a.createElement(function(){return o.a.createElement(i.a,Object.assign({template:l.a},T),o.a.createElement(P,null))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Dungeon-Crawler",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Dungeon-Crawler","/service-worker.js");$?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):_(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):_(t,e)})}}()}],[[30,2,1]]]);
//# sourceMappingURL=main.6f64c8c0.chunk.js.map